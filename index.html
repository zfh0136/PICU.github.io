<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PICU死亡率预测分析系统 - 分析报告</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #1a73e8;
            --secondary-color: #34a853;
            --accent-color: #ea4335;
            --light-bg: #f8f9fa;
            --dark-text: #2c3e50;
            --border-color: #e0e0e0;
        }
        
        body { 
            font-family: 'Segoe UI', 'Microsoft YaHei', Arial, sans-serif; 
            line-height: 1.6; 
            margin: 0; 
            padding: 0;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--dark-text);
            min-height: 100vh;
        }
        .container { 
            max-width: 1400px; 
            margin: 0 auto; 
            background: white; 
            padding: 30px; 
            border-radius: 15px; 
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            position: relative;
            top: 20px;
            margin-bottom: 40px;
        }
        header { 
            text-align: center; 
            margin-bottom: 40px; 
            padding-bottom: 25px; 
            border-bottom: 3px solid var(--primary-color);
            position: relative;
        }
        header::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 25%;
            width: 50%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: 3px;
        }
        h1 { 
            font-size: 2.5rem; 
            margin-bottom: 10px; 
            color: var(--primary-color);
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: inline-block;
        }
        h2 { 
            color: var(--dark-text); 
            margin: 40px 0 20px 0; 
            padding-bottom: 12px; 
            border-bottom: 2px solid var(--border-color);
            font-size: 1.8rem;
            position: relative;
        }
        h2::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 80px;
            height: 2px;
            background: var(--primary-color);
        }
        .section { 
            margin-bottom: 40px; 
            background: var(--light-bg);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
        }
        .section:hover {
            transform: translateY(-5px);
        }
        table { 
            width: 100%; 
            border-collapse: collapse; 
            margin: 25px 0; 
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            border-radius: 8px;
            overflow: hidden;
        }
        th, td { 
            padding: 16px; 
            text-align: left; 
            border-bottom: 1px solid var(--border-color); 
        }
        th { 
            background: linear-gradient(135deg, var(--primary-color), #5c6bc0);
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
        }
        tr:hover {
            background-color: rgba(26, 115, 232, 0.05);
        }
        .figure-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); 
            gap: 25px; 
            margin: 30px 0; 
        }
        .figure-item { 
            text-align: center; 
            background: white;
            padding: 20px;
            border-radius: 10px;
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        .figure-item:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }
        .figure-item h3 {
            margin-top: 0;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .figure-item img { 
            max-width: 100%; 
            height: auto; 
            border: 1px solid var(--border-color); 
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        .figure-item img:hover {
            transform: scale(1.02);
        }
        .img-placeholder {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #666;
            font-style: italic;
            gap: 15px;
        }
        .img-placeholder i {
            font-size: 3rem;
            color: var(--primary-color);
        }
        .metrics { 
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .metric { 
            text-align: center; 
            padding: 25px 15px; 
            background: linear-gradient(135deg, #ffffff 0%, #f0f7ff 100%);
            border-radius: 12px;
            border-left: 5px solid var(--primary-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .metric::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(26, 115, 232, 0.05), rgba(52, 168, 83, 0.05));
            z-index: 0;
        }
        .metric > * {
            position: relative;
            z-index: 1;
        }
        .metric:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.1);
        }
        .metric-value { 
            font-size: 2.2rem; 
            font-weight: bold; 
            color: var(--primary-color);
            margin-bottom: 8px;
            text-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .highlight { 
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); 
            padding: 25px; 
            border-radius: 12px; 
            margin: 25px 0;
            border-left: 5px solid var(--primary-color);
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        footer { 
            text-align: center; 
            margin-top: 50px; 
            padding-top: 30px; 
            border-top: 2px solid var(--border-color); 
            color: #666;
            font-size: 0.9rem;
        }
        .badge {
            display: inline-block;
            padding: 6px 12px;
            background: var(--primary-color);
            color: white;
            border-radius: 20px;
            font-size: 0.8rem;
            margin: 0 5px;
            font-weight: 600;
        }
        .warning {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        @media (max-width: 768px) {
            .container {
                padding: 20px;
                border-radius: 0;
                top: 0;
            }
            .figure-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            h1 {
                font-size: 2rem;
            }
            h2 {
                font-size: 1.5rem;
            }
            .metrics {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        @media (max-width: 480px) {
            .metrics {
                grid-template-columns: 1fr;
            }
            .figure-grid {
                grid-template-columns: 1fr;
            }
            .container {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-hospital"></i> PICU死亡率预测分析系统</h1>
            <p>基于机器学习的重症监护室死亡率预测分析</p>
            <p><strong>报告生成日期：</strong>2026年01月07日</p>
            <p><strong>数据来源：</strong>PICU临床数据集 | <strong>模型版本：</strong>v2.0</p>
        </header>
        
        <div class="section">
            <h2><i class="fas fa-chart-pie"></i> 项目摘要</h2>
            <p>本系统采用机器学习方法对PICU患者死亡率进行预测分析，通过多个模型的训练和评估，为临床决策提供数据支持。以下为项目关键指标：</p>
            <div class="metrics">
                <div class="metric">
                    <div class="metric-value">Random Forest</div>
                    <div><i class="fas fa-trophy"></i> 最佳模型</div>
                    <div style="font-size:0.9rem;color:#666;">AUC-ROC: 0.8079</div>
                </div>
                <div class="metric">
                    <div class="metric-value">0.8079</div>
                    <div><i class="fas fa-chart-line"></i> AUC-ROC</div>
                    <div style="font-size:0.9rem;color:#666;">(最佳模型)</div>
                </div>
                <div class="metric">
                    <div class="metric-value">0.2430</div>
                    <div><i class="fas fa-balance-scale"></i> F1分数</div>
                    <div style="font-size:0.9rem;color:#666;">(最佳模型)</div>
                </div>
                <div class="metric">
                    <div class="metric-value">6</div>
                    <div><i class="fas fa-cogs"></i> 评估模型</div>
                    <div style="font-size:0.9rem;color:#666;">全面对比</div>
                </div>
            </div>
            <div class="highlight">
                <p><strong><i class="fas fa-lightbulb"></i> 关键发现：</strong>随机森林模型在AUC-ROC指标上表现最佳（0.8079），显示出较好的分类性能，适合用于PICU死亡率预测任务。所有模型均采用5折交叉验证，以确保结果的稳定性。</p>
            </div>
        </div>
        
        <div class="section">
            <h2><i class="fas fa-robot"></i> 模型性能比较</h2>
            <p>以下是六个不同机器学习模型的性能指标对比，使用5折交叉验证计算平均值：</p>
            <table>
                <thead>
                    <tr>
                        <th><i class="fas fa-project-diagram"></i> 模型</th>
                        <th><i class="fas fa-bullseye"></i> 准确率</th>
                        <th><i class="fas fa-search"></i> 精确率</th>
                        <th><i class="fas fa-redo"></i> 召回率</th>
                        <th><i class="fas fa-balance-scale"></i> F1分数</th>
                        <th><i class="fas fa-chart-line"></i> AUC-ROC</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong><i class="fas fa-chart-bar"></i> Logistic Regression</strong></td>
                        <td>0.7530</td>
                        <td>0.1583</td>
                        <td>0.6786</td>
                        <td>0.2568</td>
                        <td>0.7730</td>
                    </tr>
                    <tr style="background-color: rgba(26, 115, 232, 0.05);">
                        <td><strong><i class="fas fa-tree"></i> Random Forest 🏆</strong></td>
                        <td><strong>0.8881</strong></td>
                        <td><strong>0.2115</strong></td>
                        <td>0.2857</td>
                        <td><strong>0.2430</strong></td>
                        <td><strong>0.8079</strong></td>
                    </tr>
                    <tr>
                        <td><strong><i class="fas fa-chart-line"></i> XGBoost</strong></td>
                        <td>0.8668</td>
                        <td>0.1803</td>
                        <td>0.3155</td>
                        <td>0.2294</td>
                        <td>0.7740</td>
                    </tr>
                    <tr>
                        <td><strong><i class="fas fa-bolt"></i> LightGBM</strong></td>
                        <td>0.8645</td>
                        <td>0.2043</td>
                        <td><strong>0.3988</strong></td>
                        <td>0.2702</td>
                        <td>0.7916</td>
                    </tr>
                    <tr>
                        <td><strong><i class="fas fa-chart-area"></i> Gradient Boosting</strong></td>
                        <td>0.8975</td>
                        <td>0.2088</td>
                        <td>0.2262</td>
                        <td>0.2171</td>
                        <td>0.7798</td>
                    </tr>
                    <tr>
                        <td><strong><i class="fas fa-brain"></i> Neural Network</strong></td>
                        <td><strong>0.8990</strong></td>
                        <td>0.2000</td>
                        <td>0.2024</td>
                        <td>0.2012</td>
                        <td>0.7155</td>
                    </tr>
                </tbody>
            </table>
            <div class="highlight">
                <p><strong><i class="fas fa-chart-bar"></i> 性能分析：</strong>随机森林模型在AUC-ROC指标上表现最佳，而神经网络模型在准确率上最高。LightGBM模型在召回率上表现最好（0.3988），这表明它更擅长识别正类样本。不同模型在不同指标上各有优势，需要根据临床实际应用场景（如注重减少漏诊还是误诊）选择合适的模型。</p>
            </div>
        </div>
        
        <div class="section">
            <h2><i class="fas fa-chart-line"></i> 可视化图表</h2>
            <p>以下图表展示了模型评估的关键结果。图片存储在<code>./figures/model_evaluation/</code>目录下：</p>
            
            <div class="warning">
                <p><i class="fas fa-info-circle"></i> <strong>GitHub部署说明：</strong>请确保图片文件已上传到GitHub仓库的<code>./figures/model_evaluation/</code>目录下，与HTML文件在同一仓库中。</p>
            </div>
            
            <div class="figure-grid">
                <div class="figure-item">
                    <h3><i class="fas fa-chart-curve"></i> ROC曲线对比</h3>
                    <img src="./figures/model_evaluation/roc_curves_all_models.png" 
                         alt="ROC曲线对比图 - 显示所有模型的ROC曲线" 
                         onerror="this.onerror=null; this.parentNode.innerHTML='<div class=\"img-placeholder\"><i class=\"fas fa-image\"></i>ROC曲线图片加载失败<br>请确保图片文件位于: ./figures/model_evaluation/roc_curves_all_models.png</div>';">
                    <p>所有模型的ROC曲线对比，曲线下面积(AUC)越大表示模型性能越好</p>
                </div>
                
                <div class="figure-item">
                    <h3><i class="fas fa-th"></i> 混淆矩阵</h3>
                    <img src="./figures/model_evaluation/confusion_matrices.png" 
                         alt="混淆矩阵 - 显示各模型的分类结果" 
                         onerror="this.onerror=null; this.parentNode.innerHTML='<div class=\"img-placeholder\"><i class=\"fas fa-image\"></i>混淆矩阵图片加载失败<br>请确保图片文件位于: ./figures/model_evaluation/confusion_matrices.png</div>';">
                    <p>各模型的混淆矩阵，展示真阳性、假阳性、真阴性、假阴性的分布</p>
                </div>
                
                <div class="figure-item">
                    <h3><i class="fas fa-chart-bar"></i> 模型性能对比</h3>
                    <img src="./figures/model_evaluation/model_performance_comparison.png" 
                         alt="模型性能对比图 - 显示各指标对比" 
                         onerror="this.onerror=null; this.parentNode.innerHTML='<div class=\"img-placeholder\"><i class=\"fas fa-image\"></i>模型性能对比图片加载失败<br>请确保图片文件位于: ./figures/model_evaluation/model_performance_comparison.png</div>';">
                    <p>各模型在不同性能指标上的对比可视化</p>
                </div>
                
                <div class="figure-item">
                    <h3><i class="fas fa-key"></i> 特征重要性</h3>
                    <img src="./figures/model_evaluation/feature_importance.png" 
                         alt="特征重要性图 - 显示最重要的特征" 
                         onerror="this.onerror=null; this.parentNode.innerHTML='<div class=\"img-placeholder\"><i class=\"fas fa-image\"></i>特征重要性图片加载失败<br>请确保图片文件位于: ./figures/model_evaluation/feature_importance.png</div>';">
                    <p>随机森林模型的特征重要性排名</p>
                </div>
            </div>
            
            <div class="highlight">
                <p><strong><i class="fas fa-folder-open"></i> 文件结构说明：</strong>GitHub仓库的文件结构应如下所示：</p>
                <pre style="background: white; padding: 15px; border-radius: 8px; border: 1px solid #ddd; overflow-x: auto;">
项目仓库/
├── index.html                (这个HTML文件)
├── README.md                 (项目说明文档)
└── figures/                  (图片目录)
    └── model_evaluation/     (模型评估图片)
        ├── roc_curves_all_models.png
        ├── confusion_matrices.png
        ├── model_performance_comparison.png
        └── feature_importance.png</pre>
            </div>
        </div>
        
        <div class="section">
            <h2><i class="fas fa-search"></i> 特征重要性分析</h2>
            <p>基于随机森林模型的特征重要性排名（前10个最重要特征）：</p>
            <table>
                <thead>
                    <tr>
                        <th><i class="fas fa-hashtag"></i> 排名</th>
                        <th><i class="fas fa-tag"></i> 特征名称</th>
                        <th><i class="fas fa-star"></i> 重要性得分</th>
                        <th><i class="fas fa-stethoscope"></i> 临床意义</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="badge">1</span></td>
                        <td><strong>chart_1004_range</strong></td>
                        <td>0.027557</td>
                        <td>生命体征指标变化范围，反映患者稳定性</td>
                    </tr>
                    <tr>
                        <td><span class="badge">2</span></td>
                        <td><strong>lab_5257_min</strong></td>
                        <td>0.022727</td>
                        <td>实验室指标最小值，反映器官功能最低点</td>
                    </tr>
                    <tr>
                        <td><span class="badge">3</span></td>
                        <td><strong>chart_1006_min</strong></td>
                        <td>0.021962</td>
                        <td>关键生命体征最小值，反映生命支持需求</td>
                    </tr>
                    <tr>
                        <td><span class="badge">4</span></td>
                        <td><strong>chart_1004_min</strong></td>
                        <td>0.021796</td>
                        <td>生命体征指标最小值，反映生理储备</td>
                    </tr>
                    <tr>
                        <td><span class="badge">5</span></td>
                        <td><strong>lab_5257_max</strong></td>
                        <td>0.019829</td>
                        <td>实验室指标最大值，反映疾病严重程度</td>
                    </tr>
                    <tr>
                        <td><span class="badge">6</span></td>
                        <td><strong>chart_1001_range</strong></td>
                        <td>0.018397</td>
                        <td>基础生命体征变化范围，反映内环境稳定性</td>
                    </tr>
                    <tr>
                        <td><span class="badge">7</span></td>
                        <td><strong>lab_5045_min</strong></td>
                        <td>0.018375</td>
                        <td>血液指标最小值，反映氧合能力</td>
                    </tr>
                    <tr>
                        <td><span class="badge">8</span></td>
                        <td><strong>chart_1004_max</strong></td>
                        <td>0.016926</td>
                        <td>生命体征指标最大值，反映应激反应</td>
                    </tr>
                    <tr>
                        <td><span class="badge">9</span></td>
                        <td><strong>admit_season</strong></td>
                        <td>0.015798</td>
                        <td>入院季节，可能与疾病流行模式相关</td>
                    </tr>
                    <tr>
                        <td><span class="badge">10</span></td>
                        <td><strong>lab_5174_min</strong></td>
                        <td>0.014611</td>
                        <td>生化指标最小值，反映代谢状态</td>
                    </tr>
                </tbody>
            </table>
            <div class="highlight">
                <p><strong><i class="fas fa-clipboard-check"></i> 临床意义：</strong>特征重要性分析揭示了影响PICU患者预后的关键临床指标。生命体征的变化范围（range）和极值（min/max）对预测结果影响显著，这表明患者生命体征的稳定性是预后的重要因素。实验室指标的最小值和最大值也表现出高重要性，反映了器官功能障碍的严重程度。这些发现有助于临床医生重点关注高风险患者的监测和干预，优化资源配置。</p>
            </div>
        </div>
        
        <div class="section">
            <h2><i class="fas fa-conclusion"></i> 结论与建议</h2>
            <div class="highlight">
                <h3><i class="fas fa-check-circle"></i> 主要结论</h3>
                <ul style="padding-left: 20px;">
                    <li><strong>模型选择：</strong>随机森林模型在AUC-ROC指标上表现最佳（0.8079），适合用于PICU死亡率预测任务。</li>
                    <li><strong>关键特征：</strong>生命体征变化范围和实验室指标极值是影响预测的最重要因素。</li>
                    <li><strong>性能权衡：</strong>模型在精确率和召回率之间存在权衡，需要根据临床需求（减少漏诊 vs. 减少误诊）调整阈值。</li>
                    <li><strong>稳定性：</strong>通过5折交叉验证，所有模型的性能评估具有较好的稳定性。</li>
                </ul>
                
                <h3><i class="fas fa-briefcase-medical"></i> 临床应用建议</h3>
                <ul style="padding-left: 20px;">
                    <li><strong>初步筛查：</strong>建议使用随机森林模型进行高风险患者的初步筛查和识别。</li>
                    <li><strong>重点关注：</strong>临床医生应特别关注生命体征波动较大、实验室指标异常的患者。</li>
                    <li><strong>决策支持：</strong>模型结果应作为临床决策的辅助工具，而非唯一依据，需结合医生专业判断。</li>
                    <li><strong>持续优化：</strong>建议定期收集新数据，重新训练模型以适应临床实践变化和疾病谱演变。</li>
                    <li><strong>资源分配：</strong>可将模型预测结果用于指导ICU床位、设备和人力资源的优化配置。</li>
                </ul>
            </div>
        </div>
        
        <footer>
            <p><strong>© 2024 PICU死亡率预测分析系统 | 医学数据分析项目</strong></p>
            <p><i class="fas fa-exclamation-triangle"></i> 本报告为学术研究用途 | 临床决策请结合专业医生判断</p>
            <p>报告生成时间：2026年01月07日 | 版本：v2.0 | GitHub部署版本</p>
            <p style="font-size:0.8rem;color:#999; margin-top: 15px;">
                <i class="fas fa-code-branch"></i> 项目仓库: https://github.com/yourusername/PICU_Data_Analysis_Project |
                <i class="fas fa-envelope"></i> 联系我们: example@email.com
            </p>
        </footer>
    </div>
    
    <script>
        // 添加简单的交互效果
        document.addEventListener('DOMContentLoaded', function() {
            // 为表格行添加点击效果
            const tableRows = document.querySelectorAll('tbody tr');
            tableRows.forEach(row => {
                row.addEventListener('click', function() {
                    this.style.backgroundColor = '#f0f7ff';
                    setTimeout(() => {
                        this.style.backgroundColor = '';
                    }, 300);
                });
            });
            
            // 自动更新年份
            const yearSpan = document.querySelector('footer p strong');
            if (yearSpan) {
                const currentYear = new Date().getFullYear();
                yearSpan.innerHTML = yearSpan.innerHTML.replace('2024', currentYear);
            }
            
            // 图片加载状态检查
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                img.addEventListener('load', function() {
                    this.style.border = '2px solid #34a853';
                });
            });
        });
    </script>
</body>
</html>
